import{Q as n}from"./QImg.ea271ccd.js";import{$ as d,a0 as u,a1 as r,a2 as o,a4 as e,a7 as p,aK as h,aH as c,F as _,bg as f,a3 as g,a6 as w}from"./index.9c72f88d.js";import{Q as x}from"./QSpace.41e1f98e.js";import{Q as b}from"./QForm.a9dcb4d2.js";import{Q as v}from"./QPage.215302fc.js";import{a as Q,b as V}from"./QLayout.932ca9f9.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const k={data(){return{showpassword:!1,username:"",password:"",remember:!1,loading:!1}},methods:{login(){this.loading=!0,this.$axios.post("login",{username:this.username,password:this.password}).then(l=>{const s=l.data.user,i=l.data.token;this.$axios.defaults.headers.common.Authorization=`Bearer ${i}`,this.$store.isLogged=!0,this.$store.user=s,localStorage.setItem("tokenGlaztor",i),localStorage.setItem("userGlaztor",JSON.stringify(s)),this.$alert.success("Bienvenido "+s.name),this.$router.push("/")}).catch(l=>{this.$alert.error(l.response.data.message)}).finally(()=>{this.loading=!1})}}},B={class:"row"},q={key:0,class:"col-12 col-md-8 flex flex-center",style:{background:"#E6EDF9",height:"100vh"}},I={style:{position:"absolute",top:"25px",left:"40px"}},C={class:"col-12 col-md-4 flex flex-center"},N={class:"row q-pa-lg"},S={class:"col-12 flex flex-center"},E=e("div",{class:"col-12 text-h6 text-bold"},"Bienvenido al sistema",-1),F=e("div",{class:"col-12 text-subtitle1"},"Inicia sesi\xF3n para continuar",-1),z={class:"col-12 q-pt-md"},L=e("label",{for:"username",class:"text-bold"},"Usuario",-1),U={class:"col-12"},H=e("label",{for:"password",class:"text-bold"},"Contrase\xF1a",-1),$={class:"col-12 row items-center"},G=e("a",{href:""},[e("span",{class:"text-caption"},"\xBFOlvidaste tu contrase\xF1a?")],-1),O={class:"col-12 q-mt-md"},P=e("div",{class:"col-12 q-mt-md"},[w(" No tienes cuenta? "),e("a",{href:""},"Reg\xEDstrate")],-1);function R(l,s,i,A,t,m){return d(),u(Q,{view:"lHh Lpr lFf"},{default:r(()=>[o(V,null,{default:r(()=>[o(v,null,{default:r(()=>[e("div",B,[l.$q.screen.lt.md?h("",!0):(d(),p("div",q,[e("div",I,[o(n,{src:"logo.png",width:"40px"})]),o(n,{src:"login-bg-BprgzFH_.svg",width:"450px"})])),e("div",C,[o(b,{onSubmit:m.login,class:"q-gutter-md",style:{"max-width":"400px"}},{default:r(()=>[e("div",N,[e("div",S,[o(n,{src:"logo.png",width:"40px"})]),E,F,e("div",z,[L,o(c,{outlined:"",modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=a=>t.username=a),rules:[a=>!!a||"Este campo es requerido"]},null,8,["modelValue","rules"])]),e("div",U,[H,o(c,{outlined:"",modelValue:t.password,"onUpdate:modelValue":s[2]||(s[2]=a=>t.password=a),type:t.showpassword?"text":"password",rules:[a=>!!a||"Este campo es requerido"]},{append:r(()=>[o(_,{name:t.showpassword?"visibility":"visibility_off",onClick:s[1]||(s[1]=a=>t.showpassword=!t.showpassword)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),e("div",$,[o(f,{modelValue:t.remember,"onUpdate:modelValue":s[3]||(s[3]=a=>t.remember=a),label:"Recordar usuario"},null,8,["modelValue"]),o(x),G]),e("div",O,[o(g,{color:"blue",label:"Iniciar sesi\xF3n",class:"full-width","no-caps":"",loading:t.loading,type:"submit"},null,8,["loading"])]),P])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1})]),_:1})}var X=y(k,[["render",R]]);export{X as default};

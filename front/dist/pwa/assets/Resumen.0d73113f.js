import{R as u,S as b,T as i,U as r,aA as C,W as t,aB as f,V as y,$ as _,a0 as x,a1 as p,Z as s,aC as V}from"./index.e5ed418c.js";import{Q as m}from"./QMarkupTable.8897c0cd.js";import{Q as v}from"./QPage.45fd982b.js";import{h as g}from"./moment.40bc58bf.js";import"./index.8bd2ab55.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";const A={name:"Resumen",data(){return{fechaInicio:g().startOf("month").format("YYYY-MM-DD"),fechaFin:g().endOf("month").format("YYYY-MM-DD"),productos:[],loading:!1}},mounted(){this.productosGet()},methods:{productosGet(){this.loading=!0,this.$axios.post("ingresoVentas",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then(a=>{this.productos=a.data}).catch(a=>{console.log(a)}).finally(()=>{this.loading=!1})}},computed:{sumVentas(){var n,d;let a=0;for(let o=0;o<((d=(n=this.productos)==null?void 0:n.resumenVentas)==null?void 0:d.length);o++)a+=this.productos.resumenVentas[o].cantidad*this.productos.resumenVentas[o].precio;return a},sumCostos(){var n,d;let a=0;for(let o=0;o<((d=(n=this.productos)==null?void 0:n.resumenCostos)==null?void 0:d.length);o++)a+=this.productos.resumenCostos[o].cantidad*this.productos.resumenCostos[o].precio;return a},totalCostosOperativos(){var n,d;let a=0;for(let o=0;o<((d=(n=this.productos)==null?void 0:n.resumenServicios)==null?void 0:d.length);o++)a+=parseFloat(this.productos.resumenServicios[o].monto);return a}}},T={class:"row"},w={class:"col-12 col-md-2"},S={class:"col-12 col-md-2"},D={class:"col-12 col-md-2 flex flex-center"},F=t("div",{class:"col-12"},null,-1),I={class:"col-12 col-md-4 q-pa-xs"},L=t("thead",null,[t("tr",{class:"bg-primary text-white"},[t("th",{colspan:"5",class:"text-center"},"1 CALCULO DE INGRESOS POR VENTAS")]),t("tr",{class:"bg-primary text-white"},[t("th",null,"#"),t("th",null,"Producto"),t("th",null,"Cantidad"),t("th",null,"Precio"),t("th",null,"Total")])],-1),k={class:"text-center"},E={class:"text-right"},U={class:"text-right text-bold"},P=t("td",{colspan:"4",class:"text-right text-bold"},"Total",-1),R={class:"text-right text-bold"},N={class:"col-12 col-md-4 q-pa-xs"},Q=t("thead",null,[t("tr",{class:"bg-primary text-white"},[t("th",{colspan:"5",class:"text-center"},"2 CALCULO DE COSTOS POR COMPRA")]),t("tr",{class:"bg-primary text-white"},[t("th",null,"#"),t("th",null,"Producto"),t("th",null,"Cantidad"),t("th",null,"Precio"),t("th",null,"Total")])],-1),Y={class:"text-center"},B={class:"text-right"},q={class:"text-right text-bold"},M=t("td",{colspan:"4",class:"text-right text-bold"},"Total",-1),G={class:"text-right text-bold"},W={class:"col-12 col-md-4 q-pa-xs"},Z=t("tr",{class:"bg-primary text-white"},[t("th",{colspan:"2",class:"text-center"},"3 CALCULO DE CANTIDAD BRUTA")],-1),j=t("th",{class:"bg-primary text-white"},"Ingresos por ventas ",-1),z=t("th",{class:"bg-primary text-white"},"Costos de compra",-1),H=t("td",{class:"text-right text-bold"},"Total",-1),J={class:"text-right text-bold"},K={class:"col-12 col-md-4 q-pa-xs"},X=t("thead",null,[t("tr",{class:"bg-primary text-white"},[t("th",{colspan:"2",class:"text-center"},"4 CALCULO DE COSTOS OPERATIVOS")])],-1),$={class:"bg-primary text-white"},tt=t("td",{class:"text-right text-bold"},"Total",-1),st={class:"text-right text-bold"},et={class:"col-12 col-md-4 q-pa-xs"},ot=t("tr",{class:"bg-primary text-white"},[t("th",{colspan:"2",class:"text-center"},"5 CALCULO DE GANANCIA NETA")],-1),lt=t("th",{class:"bg-primary text-white"},"Utilidad bruta",-1),at=t("th",{class:"bg-primary text-white"},"Costos operativos",-1),nt=t("td",{class:"text-right text-bold"},"Total",-1),rt={class:"text-right text-bold"};function dt(a,n,d,o,c,l){return u(),b(v,{class:"bg-grey-3 q-pa-xs"},{default:i(()=>[r(V,{flat:"",bordered:""},{default:i(()=>[r(C,null,{default:i(()=>[t("div",T,[t("div",w,[r(f,{modelValue:c.fechaInicio,"onUpdate:modelValue":n[0]||(n[0]=e=>c.fechaInicio=e),outlined:"",dense:"",type:"date",label:"Fecha inicio"},null,8,["modelValue"])]),t("div",S,[r(f,{modelValue:c.fechaFin,"onUpdate:modelValue":n[1]||(n[1]=e=>c.fechaFin=e),outlined:"",dense:"",type:"date",label:"Fecha fin"},null,8,["modelValue"])]),t("div",D,[r(y,{label:"Consultar",icon:"search",color:"info",dense:"","no-caps":"",onClick:l.productosGet,loading:c.loading},null,8,["onClick","loading"])]),F,t("div",I,[r(m,{flat:"",bordered:"",dense:""},{default:i(()=>[L,t("tbody",null,[(u(!0),_(p,null,x(c.productos.resumenVentas,(e,h)=>(u(),_("tr",{key:h},[t("td",null,s(h+1),1),t("td",null,s(e.producto),1),t("td",k,s(e.cantidad),1),t("td",E,s(e.precio),1),t("td",U,s(e.cantidad*e.precio),1)]))),128))]),t("tfoot",null,[t("tr",null,[P,t("td",R,s(l.sumVentas),1)])])]),_:1})]),t("div",N,[r(m,{flat:"",bordered:"",dense:""},{default:i(()=>[Q,t("tbody",null,[(u(!0),_(p,null,x(c.productos.resumenCostos,(e,h)=>(u(),_("tr",{key:h},[t("td",null,s(h+1),1),t("td",null,s(e.producto),1),t("td",Y,s(e.cantidad),1),t("td",B,s(e.precio),1),t("td",q,s(e.cantidad*e.precio),1)]))),128))]),t("tfoot",null,[t("tr",null,[M,t("td",G,s(l.sumCostos),1)])])]),_:1})]),t("div",W,[r(m,{flat:"",bordered:"",dense:""},{default:i(()=>[t("thead",null,[Z,t("tr",null,[j,t("th",null,s(l.sumVentas),1)])]),t("tbody",null,[t("tr",null,[z,t("th",null,s(l.sumCostos),1)])]),t("tfoot",null,[t("tr",null,[H,t("td",J,s((l.sumVentas-l.sumCostos).toFixed(2)),1)])])]),_:1})]),t("div",K,[r(m,{flat:"",bordered:"",dense:""},{default:i(()=>[X,t("tbody",null,[(u(!0),_(p,null,x(c.productos.resumenServicios,(e,h)=>(u(),_("tr",{key:h},[t("th",$,s(e.servicio),1),t("th",null,s(e.monto),1)]))),128))]),t("tfoot",null,[t("tr",null,[tt,t("td",st,s(l.totalCostosOperativos),1)])])]),_:1})]),t("div",et,[r(m,{flat:"",bordered:"",dense:""},{default:i(()=>[t("thead",null,[ot,t("tr",null,[lt,t("th",null,s((l.sumVentas-l.sumCostos).toFixed(2)),1)])]),t("tbody",null,[t("tr",null,[at,t("th",null,s(l.totalCostosOperativos),1)])]),t("tfoot",null,[t("tr",null,[nt,t("td",rt,s((l.sumVentas-l.sumCostos-l.totalCostosOperativos).toFixed(2)),1)])])]),_:1})])])]),_:1})]),_:1})]),_:1})}var xt=O(A,[["render",dt]]);export{xt as default};
